---
import BaseLayout from "../layouts/BaseLayout.astro";
import ContributeForm from "../components/standalone/ContributeForm";
import { getEnhancedData } from "../lib/enhancedData";

// Fetch all needed data for the form
const { 
  fields, 
  resourceTypeOptions, 
  bottlenecks, 
  foundationalCapabilities: capabilities,
  resources
} = await getEnhancedData();
---

<BaseLayout title="Contribute - Gap Map">
  <div class="contribute-page">
    <div class="contribute-header">
      <h1>Contribute to the Database</h1>
      <p>
        Share your insights into the current landscape of scientific research.
        Your contribution will be reviewed before being added to the database.
      </p>
    </div>
    
    <div class="contribute-content">
      <ContributeForm 
        client:load 
        fields={fields} 
        resourceTypeOptions={resourceTypeOptions}
        bottlenecks={bottlenecks}
        capabilities={capabilities}
        resources={resources}
      />
    </div>
  </div>
</BaseLayout>